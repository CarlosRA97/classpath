<html>
<head>
<title>Japhar Integration - GNU Classpath Project</title>
</head>

<body bgcolor="#FFFFFF">

<div align="center">
<table border="0">
  <tr valign="center">
    <td><a href="http://www.gnu.org/"><img src="gnu-head-sm.jpg"
           width="129" height="122" alt="GNU Head Logo" border="0"></a>
    <td><h1>GNU Classpath</h1>
        <p><h3>Japhar Integration</h3>
</table>

<hr width="75%">
<div align="left">
<table border="0" cellpadding="4" cellspacing="4" width="100%">
  <tr valign="top">
    <td bgcolor="#FFFFC8" width="175">
       <center>
       <b>Classpath Pages</b>
       <hr width="75%">
       </center>
       <li><a href="classpath.html">Home Page</a>
       <li>Project Announcement
       <li><a href="packages.html">Package Listing</a>
       <li><a href="status.html">Project Status</a>
       <li><a href="mailing-list.html">Mailing Lists</a>
       <li><a href="jcl-hacking.html">JCL Hacker's Guide</a>
       <p>
       <center>
       <b>Official Specs</b>
       <hr width="75%">
       </center>
       <li><a href="http://java.sun.com/docs/">JavaSoft</a>
       <p>
       <center>
       <b>Free JVM's</b>
       <hr width="75%">
       </center>
       <li><a href="http://www.hungry.com/products/japhar/">Japhar</a>
       <li><a href="http://www.transvirtual.com/">Kaffe</a> 
    <td>
    <h2>1. Description of Patch</h2>
    Well, after a long wait, it's finally here.  Right now, the Japhar
    patch has *only* been tested on the following file:<P>
<pre>public class Test {
    public static void main(String[] args) {
    }
}</pre><p>
    It seems like no test at all, but it can be very misleading.  What this
    means is that <b>all static initializers</b> for the core Classpath
    installation work just fine, and we do some fairly complex stuff in there,
    including some Reflection.<p>
    I am putting the patch out here so that the hackers of the world can begin
    to send in bug reports, and also so that the Japhar guys can start to mess
    with putting it into their tree and doing regression testing to make sure
    the old stuff still works.<p>
    If you install the patch, Japhar will still work the same way it used to
    unless you use the configure option <code>--enable-classpath</code>.<p>

    <h2>2. Getting the Patch</h2>
    The patch is a zipfile available <a href="japhar-patch.zip">here</a>.<p>
    You also need a compiled copy of the Classpath library to work with Japhar.
    Since our build procedure is not yet up to speed, I have the one I use
    <a href="classpath.zip">here</a>.<p>
    Note that the new patch is not assured of working since I haven't tested
    whether I got everything into the patch.  If you want something you're
    assured works, get <a href="japhar-patch.tgz"> and untar it <i>while in the
    Japhar directory</i> and skip step 3.  I think I did the patch right,
    though, so there shouldn't be a problem.<p>

    <h2>3. Installing the Patch</h2>
    <b>A.</b> Change to the directory just above your Japhar directory and
    unzip.  <i>This only works if your Japhar directory is named</i>
    <code>japhar</code>.<p>
    <b>B.</b> You need to use the unified diff patch <code>jcp.diff</code>
    which will unzip into the directory above your Japhar directory when you
    unzip everything else.  I haven't got the command line for this yet.  I
    figure the people who really need it already know it, so I'm not too
    worried.<p>

    <h2>4. Remake Japhar</h2>
    When the patch is installed, you will need to remake Japhar with Classpath
    enabled.<p>
    <b>A.</b> Do the normal first steps in the Japhar HACKING file:
    <code>aclocal; autoheader; autoconf; automake</code>.<p>
    <b>B.</b> Run the configure script including the options
    <code>--enable-classpath</code> and <code>--enable-libffi</code>.  You
    may theoretically use any other options you want; but the only other ones
    I have used in my testing are <code>--enable-debugging</code>,
    <code>--enable-logging</code>, and <code>--with-sun-jdk=...</code>
    (this last one is <i>still</i> required.<p>
    <b>C.</b> Make and install normally.<p>

    <h2>5. Install Classpath Libraries</h2>
    Make and install the Classpath native libraries normally.  You
    may have to do some hacking to exclude certain directories from the
    build, if they are crashing on you.<p>

    <h2>6. Set Environment Variables</h2>
    <b>A.</b> Make sure that the path to the Classpath native libraries is
    in your <code>LD_LIBRARY_PATH</code> environment variable.  Alternatively,
    you can move the libraries to the Japhar libraries directory, but I have
    not tested with that configuration yet.<p>
    <b>B.</b> Put <code>classpath.zip</code> in your CLASSPATH.  Don't forget
    to put "." in your classpath, or possibly the directory of the application
    you want to run.<p>
    <b>C.</b> Make sure, of course, that Japhar is in your <b>PATH</b>.

    <h2>7. Finish</h2>
    After performing steps 2-6 above, you will be ready to run!  There's not
    much out of the ordinary there.  Just run "<code>japhar myClass</code>",
    and thar she blows!<p>

    <h2>8. Bugs and Comments</h2>
    You should really send comments and bugfixes to
    <a href="mailto:classpath@classpath.org">the Classpath list</a>, but if you
    have a bone to pick with me, the author of this patch, my name is
    John Keiser and my email is <a href="shalom@gnu.org">shalom@gnu.org</a>.<p>
    
    </td>
  </tr>
</table>

<div align="left">

<hr>
Webmaster: <a href="mailto:webmaster@classpath.org">webmaster@classpath.org</a>
<p>
Copyright &copy; 1998 Free Software Foundation, Inc.<br>
59 Temple Place - Suite 330, Boston, MA 02111 USA<br>
This web page developed by Aaron M. Renn 
(<a href="mailto:arenn@urbanophile.com">arenn@urbanophile.com</a>)
<p>
Verbatim copying and distribution is permitted in any medium,
provided this notice is preserved.
<p>
Last updated: October 31, 1998 by shalom

<hr>
<b>Just Say No to Frames, Ads, and Animated GIF's</b>

</body>
</html>
